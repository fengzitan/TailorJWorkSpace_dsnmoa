var LatestFrameYOffset=0;function showLoadingMask(b){var a;if($.isPlainObject(b)){a=b.context}else{if(b&&typeof(b)==="function"){a=null}else{if(b&&typeof(b)==="number"){a=null}else{if(b&&b.constructor.toString().indexOf("HTMLDocument")>-1){a=b}else{if(b&&b.addClass){a=b}else{if(!b){a=null}else{throw ("参数错误");return false}}}}}}var e=b&&typeof(b)==="number"&&b||$.isPlainObject(b)&&b.showtime||5000;var i=b&&typeof(b)=="function"&&b||$.isPlainObject(b)&&b.callback||function(){return false};if(isLoadingMaskShown(a)){return}var j=$("<div/>");j.addClass("spinner-layout");LatestFrameYOffset=$(window).scrollTop();j.css("top",LatestFrameYOffset+"px");var k=$("<div>").hide();k.addClass("load-close");var g=$("<div/>");g.addClass("load-close-icon");g.appendTo(k);k.appendTo(j);var f=$("<div/>");f.addClass("container");var d=$("<div/>");d.addClass("spinner-wheel");var h=$("<i/>");h.addClass("fa fa-spinner fa-pulse");j.append(f.append(d.append(h)));if(undefined!=a){$("body",a).append(j)}else{$("body").append(j)}var l=$.isPlainObject(b)&&b.paras||{};setTimeout(function(){k.show();k.on("click",function(c){hideLoadingMask(a);i(l);c.stopPropagation()})},e)}function hideLoadingMask(a){if(isLoadingMaskShown(a)){if(undefined!=a){$(".spinner-layout",a).remove()}else{$(".spinner-layout").remove()}}}function isLoadingMaskShown(a){if(undefined!=a){return $(".spinner-layout",a).size()>0}else{return $(".spinner-layout").size()>0}}function showMessageDialog1(e,f){if(isLoadingMaskShown()){hideLoadingMask()}var d=$("<div/>");d.addClass("dialog-layout");var c=$("<div/>");c.addClass("dialog");var a=$("<span/>");a.text(e);var b=$("<div/>");b.addClass("dialog-btn-m");b.text("确定");b.on("click",function(g){dismissMessageDialog();if("undefined"!=typeof(f)&&f.constructor.toString().indexOf("Function()")>-1){f()}g.stopPropagation()});d.append(c.append(a).append(b));$("body").append(d)}function showMessageDialog(f,h){if(isLoadingMaskShown()){hideLoadingMask()}var e=$("<div/>");e.addClass("dialog-layout");var d=$("<div/>");d.addClass("dialog");var b=$("<p/>");b.addClass("dialog-title");b.text("移动OA提示");d.append(b);var a=$("<span/>");a.text(f);var g=$("<div/>");var c=$("<div/>");c.addClass("dialog-btn");c.text("确定");c.on("click",function(i){dismissMessageDialog();if("undefined"!=typeof(h)&&h.constructor.toString().indexOf("Function()")>-1){h()}i.stopPropagation()});g.append(c);e.append(d.append(a).append(g));$("body").append(e)}function showMessageDialog2(c){if(isLoadingMaskShown()){hideLoadingMask()}var e=$("<div/>");e.addClass("dialog-layout");var i=$("<P/>");i.text("移动OA提示");e.append(i);var g=$("<div/>");g.addClass("dialog");g.attr("style","overflow-y:auto; height:120px");g.append($("<br/>"));var a=$("<table/>");var h=$("<tr/>");var d=$("<td/>");d.attr("style","height: 40px");var f=$("<font/>");f.addClass("filestate");f.text(c);d.append(f);h.append(d);a.append(h);g.append(a);e.append(g);var b=$("<div/>");b.addClass("dialog-btn-m");b.text("确定");b.on("click",function(j){dismissMessageDialog();if("undefined"!=typeof(loadVerifyCodeImg)&&loadVerifyCodeImg.constructor.toString().indexOf("Function()")>-1){loadVerifyCodeImg()}j.stopPropagation()});e.append(b);$("body").append(e)}function dismissMessageDialog(){$(".dialog-layout").remove()}var LatestConfirmSwitch=false;var LatestConfirmStatus=false;function checkConfirmResult(){var c=new Date();var d=c.getTime();while(true){if(!LatestConfirmSwitch){break}var b=new Date();var a=b.getTime();if(a-d>15000){break}}return LatestConfirmStatus}function showConfirmMessageDialog(f){var e=$("<div/>");e.addClass("message-layout");var c=$("<div/>");c.addClass("message-dialog");var a=$("<div/>");a.addClass("message-txt");a.text(f);c.append(a);var b=$("<div/>");b.addClass("left-btn");b.text("确定");b.on("click",function(){LatestConfirmStatus=true;dismissConfirmMessageDialog()});c.append(b);var d=$("<div/>");d.addClass("right-btn");d.text("取消");d.on("click",function(){LatestConfirmStatus=false;dismissConfirmMessageDialog()});c.append(d);e.append(c);LatestConfirmSwitch=true;$("body").append(e);return true}function dismissConfirmMessageDialog(){LatestConfirmSwitch=false;$(".message-layout").remove()}function showResultMessageDialog(result){if(isLoadingMaskShown()){hideLoadingMask()}if(result.constructor.toString().indexOf("String()")>-1){var _result=eval("("+result+")")}else{var _result=result}var suc=cbSuccess;var err=cbFailure;var layout=$("<div/>");layout.addClass("message-layout");var dialog=$("<div/>");dialog.addClass("message-dialog");var img=$("<i/>");var icon=$("<div/>");icon.addClass("message-icon");if(_result.success){icon.addClass("success");img.addClass("fa fa-check")}else{icon.addClass("false");img.addClass("fa fa-times")}icon.append(img);dialog.append(icon);var msg=$("<div/>");msg.addClass("message-txt");msg.text(_result.message);dialog.append(msg);if(_result.success){var info=$("<div/>");info.addClass("message-small-txt");info.html('页面在<span id="remaining_seconds">3</span>秒后跳转');dialog.append(info)}else{var btn=$("<div/>");
btn.addClass("middle-btn");btn.text("关闭");if(undefined==err||err.constructor.toString().indexOf("Function()")==-1){err=dismissResultMessageDialog}btn.on("click",{f:err},function(event){eval("("+event.data.f+"())")});dialog.append(btn)}layout.append(dialog);$("body").append(layout);if(_result.success){var ivTimer=setInterval(function(){var o=$("#remaining_seconds");var seconds=parseInt(o.text());o.text(seconds-1)},1000);var toTimer=setTimeout(function(){clearInterval(ivTimer);clearTimeout(toTimer);if(undefined==suc||suc.constructor.toString().indexOf("Function()")==-1){dismissResultMessageDialog()}else{eval("("+suc+"())")}},3000)}}function dismissResultMessageDialog(){$(".message-layout").remove()}function showModalWin(a){var b=$("<iframe/>");b.addClass("modal-frame");b.on("load",function(){hideLoadingMask();$(this).show()});b.attr("src",a);showLoadingMask();$("body").append(b)}function dismissModalWin(){$(".modal-frame").remove()}function addTranslateY(b,a){b.css("transform","translateY("+a+"px)");b.css("-webkit-transform","translateY("+a+"px)");b.css("-moz-transform","translateY("+a+"px)");b.css("-o-transform","translateY("+a+"px)");b.css("-ms-transform","translateY("+a+"px)")}function addFormTargetFrame(a){if($("iframe[name='"+a+"']").length>0){return}var b=$("<iframe/>");b.attr("name",a);b.css("display","none");$("body").append(b)}function showLogoutDialog(b,c){var a=$("<div/>");a.attr("id","logoutMask");a.addClass("screen-mask");var e=$("<div/>");e.css({position:"absolute",top:"30%",left:"5%",width:"90%",backgroundColor:"#fff",padding:"1.5rem 0",borderRadius:"4px"});var g=$("<p/>");g.css({textAlign:"center",height:"3rem",lineHeight:"3rem",marginBottom:"0.8rem",color:"#74859c"});g.text("是否退出当前账号？");var f=$("<div/>");f.css({display:"inline-block",width:"35%",height:"2.4rem",marginLeft:"10%",lineHeight:"2.4rem",textAlign:"center",borderRadius:"2px",color:"#74859c",backgroundColor:"#e8ecee"});f.text("取消");f.on("click",function(h){dismissLogoutDialog();h.stopPropagation()});var d=$("<div/>");d.css({display:"inline-block",width:"35%",height:"2.4rem",marginLeft:"10%",lineHeight:"2.4rem",textAlign:"center",borderRadius:"2px",color:"#fff",backgroundColor:"#0c6cff"});d.text("确认");d.on("click",function(h){$.ajax({type:"GET",url:b,async:true,dataType:"json",beforeSend:function(){dismissLogoutDialog();showLoadingMask()},success:function(i){},error:function(k,i,j){}});setTimeout(function(){hideLoadingMask();location.href=c},1000);h.stopPropagation()});e.append(g).append(f).append(d);a.append(e);$("body").append(a)}function dismissLogoutDialog(){$("#logoutMask").remove()}function mAjaxStop(d){var b=$.isPlainObject(d)&&d.xhr;var a=$.isPlainObject(d)&&d.onreadystatechange||function(){return false};if(undefined!=b){b.onreadystatechange=function(){a();return false};b.abort()}var c=$.isPlainObject(d)&&d.settings;if(undefined!=c){c.success=function(){return false};c.error=function(){return false};c.complete=function(){return false}}}function createRectangle(d,c,h){var b=$("<div/>");b.addClass("f-rectangle");var e=c.w*d-2*h;var a=c.h*d-2*h;var g=0-(a/2+h);var f=0-(e/2+h);b.css({width:e+"px",height:a+"px",marginTop:g+"px",marginLeft:f+"px",borderWidth:h+"px"});return b}function createSquare(b,c,d){var a=createRectangle(b,{w:c.d,h:c.d},d);a.css("line-height",c.d*b+"px");return a}function createCircle(d,h){var b=$("<div/>");b.addClass("f-circle");var c=2;var e=h.w*d-2*c;var a=h.h*d-2*c;var g=0-(a/2+c);var f=0-(e/2+c);b.css({width:e+"px",height:a+"px",lineHeight:a+"px",marginTop:g+"px",marginLeft:f+"px"});return b}function createCheck(e,c){var b=$("<div/>");b.addClass("f-check");var d=2;var f=c.w*e;var a=c.h*e;b.css({width:f+"px",height:a+"px",marginTop:(0-(a/2+d))+"px",marginLeft:(0-(f/2+d))+"px"});return b}Array.prototype.contains=function(c){if(this.length<1){return false}for(var a=0;a<this.length;a++){var b=this[a];if(null!=b&&c==b){return true}}return false};function showMessageDialogWithCallBackName(msg,callBackFuncName){if(isLoadingMaskShown()){hideLoadingMask()}var layout=$("<div/>");layout.addClass("dialog-layout");var dialog=$("<div/>");dialog.addClass("dialog");var titleP=$("<p/>");titleP.addClass("dialog-title");titleP.text("移动OA提示");dialog.append(titleP);var txt=$("<span/>");txt.text(msg);var btnContainor=$("<div/>");var btn=$("<div/>");btn.addClass("dialog-btn");btn.text("确定");btn.on("click",function(e){dismissMessageDialog();if("undefined"!=typeof(callBackFuncName)){eval(callBackFuncName)}else{if("undefined"!=typeof(loadVerifyCodeImg)&&loadVerifyCodeImg.constructor.toString().indexOf("Function()")>-1){loadVerifyCodeImg()}}e.stopPropagation()});btnContainor.append(btn);layout.append(dialog.append(txt).append(btnContainor));$("body").append(layout)};

String.prototype.startWith=function(str){     
  var reg=new RegExp("^"+str);     
  return reg.test(this);        
}  

String.prototype.endWith=function(str){     
  var reg=new RegExp(str+"$");     
  return reg.test(this);        
}

String.prototype.startsWith=function(str){     
  var reg=new RegExp("^"+str);     
  return reg.test(this);        
}  

String.prototype.endsWith=function(str){     
  var reg=new RegExp(str+"$");     
  return reg.test(this);        
}